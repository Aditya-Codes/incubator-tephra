<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Fri Aug 04 12:02:59 PDT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Transaction (Apache Tephra 0.12.0-incubating API)</title>
<meta name="date" content="2017-08-04">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Transaction (Apache Tephra 0.12.0-incubating API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/apache/tephra/RetryStrategy.html" title="interface in org.apache.tephra"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/apache/tephra/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.tephra</div>
<h2 title="Class Transaction" class="title">Class Transaction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.tephra.Transaction</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Transaction</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Transaction details</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a></strong></code>
<div class="block">Defines the possible visibility levels for read operations.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#ALL_VISIBLE_LATEST">ALL_VISIBLE_LATEST</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#NO_TX_IN_PROGRESS">NO_TX_IN_PROGRESS</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/apache/tephra/Transaction.html#Transaction(long,%20long,%20long[],%20long[],%20long)">Transaction</a></strong>(long&nbsp;readPointer,
           long&nbsp;txId,
           long[]&nbsp;invalids,
           long[]&nbsp;inProgress,
           long&nbsp;firstShortInProgress)</code>
<div class="block">Creates a new short transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/apache/tephra/Transaction.html#Transaction(long,%20long,%20long[],%20long[],%20long,%20org.apache.tephra.TransactionType)">Transaction</a></strong>(long&nbsp;readPointer,
           long&nbsp;txId,
           long[]&nbsp;invalids,
           long[]&nbsp;inProgress,
           long&nbsp;firstShortInProgress,
           <a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra">TransactionType</a>&nbsp;type)</code>
<div class="block">Creates a new transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/apache/tephra/Transaction.html#Transaction(long,%20long,%20long,%20long[],%20long[],%20long,%20org.apache.tephra.TransactionType,%20long[],%20org.apache.tephra.Transaction.VisibilityLevel)">Transaction</a></strong>(long&nbsp;readPointer,
           long&nbsp;txId,
           long&nbsp;writePointer,
           long[]&nbsp;invalids,
           long[]&nbsp;inProgress,
           long&nbsp;firstShortInProgress,
           <a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra">TransactionType</a>&nbsp;type,
           long[]&nbsp;checkpointPointers,
           <a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a>&nbsp;visibilityLevel)</code>
<div class="block">Creates a new transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/apache/tephra/Transaction.html#Transaction(org.apache.tephra.Transaction,%20long,%20long[])">Transaction</a></strong>(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;toCopy,
           long&nbsp;writePointer,
           long[]&nbsp;checkpointPointers)</code>
<div class="block">Creates a new transaction for a checkpoint operation, copying all members from the original transaction,
 with the updated checkpoint write pointers.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#excludesSize()">excludesSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getCheckpointWritePointers()">getCheckpointWritePointers</a></strong>()</code>
<div class="block">Returns any prior write pointers used in the current transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getFirstInProgress()">getFirstInProgress</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getFirstShortInProgress()">getFirstShortInProgress</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getInProgress()">getInProgress</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getInvalids()">getInvalids</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getReadPointer()">getReadPointer</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getTransactionId()">getTransactionId</a></strong>()</code>
<div class="block">Returns the initial write pointer assigned to the transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra">TransactionType</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getType()">getType</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getVisibilityLevel()">getVisibilityLevel</a></strong>()</code>
<div class="block">Returns the currently set visibility level.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getVisibilityUpperBound()">getVisibilityUpperBound</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#getWritePointer()">getWritePointer</a></strong>()</code>
<div class="block">Returns the write pointer to be used in persisting any changes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#hasExcludes()">hasExcludes</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#isCheckpoint(long)">isCheckpoint</a></strong>(long&nbsp;version)</code>
<div class="block">Returns true if the the given version corresponds to one of the checkpoint versions in the current
 transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#isCurrentWrite(long)">isCurrentWrite</a></strong>(long&nbsp;version)</code>
<div class="block">Returns whether the given version was written by the current transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#isExcluded(long)">isExcluded</a></strong>(long&nbsp;version)</code>
<div class="block">Returns true if the given version is present in one of the arrays of excluded versions (in-progress and
 invalid transactions).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#isInProgress(long)">isInProgress</a></strong>(long&nbsp;version)</code>
<div class="block">Returns true if the given version corresponds to a transaction that was in-progress at the time this transaction
 started.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#isVisible(long)">isVisible</a></strong>(long&nbsp;version)</code>
<div class="block">Returns whether or not the given version should be visible to the current transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#setVisibility(org.apache.tephra.Transaction.VisibilityLevel)">setVisibility</a></strong>(<a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a>&nbsp;level)</code>
<div class="block">Sets the visibility level for read operations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/apache/tephra/Transaction.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NO_TX_IN_PROGRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_TX_IN_PROGRESS</h4>
<pre>public static final&nbsp;long NO_TX_IN_PROGRESS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.apache.tephra.Transaction.NO_TX_IN_PROGRESS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ALL_VISIBLE_LATEST">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ALL_VISIBLE_LATEST</h4>
<pre>public static final&nbsp;<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a> ALL_VISIBLE_LATEST</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Transaction(long, long, long[], long[], long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Transaction</h4>
<pre>public&nbsp;Transaction(long&nbsp;readPointer,
           long&nbsp;txId,
           long[]&nbsp;invalids,
           long[]&nbsp;inProgress,
           long&nbsp;firstShortInProgress)</pre>
<div class="block">Creates a new short transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>readPointer</code> - read pointer for transaction</dd><dd><code>txId</code> - unique identifier for the transaction</dd><dd><code>invalids</code> - list of invalid transactions to exclude while reading</dd><dd><code>inProgress</code> - list of in-progress transactions to exclude while reading</dd><dd><code>firstShortInProgress</code> - earliest in-progress short transaction</dd></dl>
</li>
</ul>
<a name="Transaction(long, long, long[], long[], long, org.apache.tephra.TransactionType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Transaction</h4>
<pre>public&nbsp;Transaction(long&nbsp;readPointer,
           long&nbsp;txId,
           long[]&nbsp;invalids,
           long[]&nbsp;inProgress,
           long&nbsp;firstShortInProgress,
           <a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra">TransactionType</a>&nbsp;type)</pre>
<div class="block">Creates a new transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>readPointer</code> - read pointer for transaction</dd><dd><code>txId</code> - unique identifier for the transaction</dd><dd><code>invalids</code> - list of invalid transactions to exclude while reading</dd><dd><code>inProgress</code> - list of in-progress transactions to exclude while reading</dd><dd><code>firstShortInProgress</code> - earliest in-progress short transaction</dd><dd><code>type</code> - transaction type</dd></dl>
</li>
</ul>
<a name="Transaction(long, long, long, long[], long[], long, org.apache.tephra.TransactionType, long[], org.apache.tephra.Transaction.VisibilityLevel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Transaction</h4>
<pre>public&nbsp;Transaction(long&nbsp;readPointer,
           long&nbsp;txId,
           long&nbsp;writePointer,
           long[]&nbsp;invalids,
           long[]&nbsp;inProgress,
           long&nbsp;firstShortInProgress,
           <a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra">TransactionType</a>&nbsp;type,
           long[]&nbsp;checkpointPointers,
           <a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a>&nbsp;visibilityLevel)</pre>
<div class="block">Creates a new transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>readPointer</code> - read pointer for transaction</dd><dd><code>txId</code> - unique identifier for the transaction</dd><dd><code>writePointer</code> - the current pointer to be used for any writes.
                      For new transactions, this will be the same as <code>txId</code>.  For checkpointed
                      transactions, this will be the most recent write pointer issued.</dd><dd><code>invalids</code> - list of invalid transactions to exclude while reading</dd><dd><code>inProgress</code> - list of in-progress transactions to exclude while reading</dd><dd><code>firstShortInProgress</code> - earliest in-progress short transaction</dd><dd><code>type</code> - transaction type</dd><dd><code>checkpointPointers</code> - the list of writer pointers added from checkpoints on the transaction</dd><dd><code>visibilityLevel</code> - the visibility level to use for transactional reads</dd></dl>
</li>
</ul>
<a name="Transaction(org.apache.tephra.Transaction, long, long[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Transaction</h4>
<pre>public&nbsp;Transaction(<a href="../../../org/apache/tephra/Transaction.html" title="class in org.apache.tephra">Transaction</a>&nbsp;toCopy,
           long&nbsp;writePointer,
           long[]&nbsp;checkpointPointers)</pre>
<div class="block">Creates a new transaction for a checkpoint operation, copying all members from the original transaction,
 with the updated checkpoint write pointers.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>toCopy</code> - the original transaction containing the state to copy</dd><dd><code>writePointer</code> - the new write pointer to use for the transaction</dd><dd><code>checkpointPointers</code> - the list of write pointers added from checkpoints on the transaction</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getReadPointer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadPointer</h4>
<pre>public&nbsp;long&nbsp;getReadPointer()</pre>
</li>
</ul>
<a name="getTransactionId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionId</h4>
<pre>public&nbsp;long&nbsp;getTransactionId()</pre>
<div class="block">Returns the initial write pointer assigned to the transaction.  This will remain the same for the life of the
 transaction, and uniquely identifies it with the transaction service.  This value should be provided
 to identify the transaction when calling any transaction lifecycle methods on the transaction service.</div>
</li>
</ul>
<a name="getWritePointer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWritePointer</h4>
<pre>public&nbsp;long&nbsp;getWritePointer()</pre>
<div class="block">Returns the write pointer to be used in persisting any changes.  After a checkpoint is performed, this will differ
 from <a href="../../../org/apache/tephra/Transaction.html#getTransactionId()"><code>getTransactionId()</code></a>.  This method should always be used when setting the timestamp for writes
 in order to ensure that the correct value is used.</div>
</li>
</ul>
<a name="getInvalids()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInvalids</h4>
<pre>public&nbsp;long[]&nbsp;getInvalids()</pre>
</li>
</ul>
<a name="getInProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInProgress</h4>
<pre>public&nbsp;long[]&nbsp;getInProgress()</pre>
</li>
</ul>
<a name="getFirstInProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstInProgress</h4>
<pre>public&nbsp;long&nbsp;getFirstInProgress()</pre>
</li>
</ul>
<a name="getType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getType</h4>
<pre>public&nbsp;<a href="../../../org/apache/tephra/TransactionType.html" title="enum in org.apache.tephra">TransactionType</a>&nbsp;getType()</pre>
</li>
</ul>
<a name="getVisibilityUpperBound()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVisibilityUpperBound</h4>
<pre>public&nbsp;long&nbsp;getVisibilityUpperBound()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>transaction id <code>X</code> such that any of the transactions newer than <code>X</code> may be invisible to this<p>
         NOTE: the returned tx id can be invalid.</dd></dl>
</li>
</ul>
<a name="getFirstShortInProgress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFirstShortInProgress</h4>
<pre>public&nbsp;long&nbsp;getFirstShortInProgress()</pre>
</li>
</ul>
<a name="isInProgress(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInProgress</h4>
<pre>public&nbsp;boolean&nbsp;isInProgress(long&nbsp;version)</pre>
<div class="block">Returns true if the given version corresponds to a transaction that was in-progress at the time this transaction
 started.</div>
</li>
</ul>
<a name="isExcluded(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExcluded</h4>
<pre>public&nbsp;boolean&nbsp;isExcluded(long&nbsp;version)</pre>
<div class="block">Returns true if the given version is present in one of the arrays of excluded versions (in-progress and
 invalid transactions).</div>
</li>
</ul>
<a name="isCheckpoint(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCheckpoint</h4>
<pre>public&nbsp;boolean&nbsp;isCheckpoint(long&nbsp;version)</pre>
<div class="block">Returns true if the the given version corresponds to one of the checkpoint versions in the current
 transaction.</div>
</li>
</ul>
<a name="isVisible(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVisible</h4>
<pre>public&nbsp;boolean&nbsp;isVisible(long&nbsp;version)</pre>
<div class="block">Returns whether or not the given version should be visible to the current transaction.  A version will be visible
 if it was successfully committed prior to the current transaction starting, or was written by the current
 transaction (using either the current write pointer or the write pointer from a prior checkpoint).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>version</code> - the data version to check for visibility</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the version is visible, false if it should be hidden (filtered)</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/apache/tephra/Transaction.html#setVisibility(org.apache.tephra.Transaction.VisibilityLevel)"><code>to control whether the current write pointer is visible.</code></a></dd></dl>
</li>
</ul>
<a name="isCurrentWrite(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCurrentWrite</h4>
<pre>public&nbsp;boolean&nbsp;isCurrentWrite(long&nbsp;version)</pre>
<div class="block">Returns whether the given version was written by the current transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>version</code> - the data version</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if version was written by current transaction, false otherwise.</dd></dl>
</li>
</ul>
<a name="setVisibility(org.apache.tephra.Transaction.VisibilityLevel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVisibility</h4>
<pre>public&nbsp;void&nbsp;setVisibility(<a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a>&nbsp;level)</pre>
<div class="block">Sets the visibility level for read operations.</div>
</li>
</ul>
<a name="getVisibilityLevel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVisibilityLevel</h4>
<pre>public&nbsp;<a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra">Transaction.VisibilityLevel</a>&nbsp;getVisibilityLevel()</pre>
<div class="block">Returns the currently set visibility level.</div>
</li>
</ul>
<a name="hasExcludes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasExcludes</h4>
<pre>public&nbsp;boolean&nbsp;hasExcludes()</pre>
</li>
</ul>
<a name="excludesSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>excludesSize</h4>
<pre>public&nbsp;int&nbsp;excludesSize()</pre>
</li>
</ul>
<a name="getCheckpointWritePointers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckpointWritePointers</h4>
<pre>public&nbsp;long[]&nbsp;getCheckpointWritePointers()</pre>
<div class="block">Returns any prior write pointers used in the current transaction.  A new write pointer is issued when the
 <code>TransactionContext.checkpoint(Transaction)</code> operation is called, and the prior write pointer is added
 to the array of checkpoint write pointers.
`</div>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Transaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/apache/tephra/RetryStrategy.html" title="interface in org.apache.tephra"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/apache/tephra/Transaction.VisibilityLevel.html" title="enum in org.apache.tephra"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/apache/tephra/Transaction.html" target="_top">Frames</a></li>
<li><a href="Transaction.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.apache.org">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
